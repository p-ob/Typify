version: '{build}'
os: Visual Studio 2017
cache: C:\Users\appveyor\.nuget\packages
build_script:
  - echo Restoring solution
  - dotnet restore
  - echo Building solution
  - dotnet build --configuration Release 
  - echo Packing solution
  - dotnet pack -c Release -o ../../packages --no-build /p:BuildNumber=%APPVEYOR_BUILD_NUMBER%

test_script:
  - echo Testing Typify.NET
  - dotnet test test/Typify.NET.Tests/Typify.Net.Tests.csproj
  - echo Testing typify
  - dotnet test test/typify.Tests/typify.Tests.csproj